/*eslint-disable */
(()=>{"use strict";const e=document.getElementById("city"),t=document.getElementById("date"),n=document.getElementById("time"),o=document.getElementById("current-temperature"),a=document.getElementById("current-weather-img"),d=document.getElementById("weather-desc"),c=document.getElementById("weather-feels-like"),i=document.getElementById("wind-speed"),m=document.getElementById("humidity"),s=document.getElementById("forecast-day-1"),l=document.getElementById("forecast-day-1-temp"),r=document.getElementById("forecast-day-1-img"),u=document.getElementById("forecast-day-2"),y=document.getElementById("forecast-day-2-temp"),g=document.getElementById("forecast-day-2-img"),p=document.getElementById("forecast-day-3"),h=document.getElementById("forecast-day-3-temp"),f=document.getElementById("forecast-day-3-img"),x=document.getElementById("header-search-input"),I=document.getElementById("header-search-button"),b=document.getElementById("latitude"),E=document.getElementById("longitude"),w=document.getElementById("refresh-button"),v=document.getElementById("temperature-unit");function B(e,t){b.textContent=`${e.toFixed(2)}'`.replace(".","°"),E.textContent=`${t.toFixed(2)}'`.replace(".","°")}function C(t,n){fetch(`https://api.openweathermap.org/data/2.5/forecast?q=${t}&lang=en&units=${n}&APPID=d947bf1a0211edc7f91dcb84156c547a`).then((e=>e.json())).then((n=>{!function(t,n){e.textContent=`${n}, ${t.city.country}`,o.textContent=t.list[0].main.temp.toFixed(0),d.textContent=t.list[0].weather[0].description,c.textContent=t.list[0].main.feels_like.toFixed(0),i.textContent=t.list[0].wind.speed.toFixed(0),m.textContent=t.list[0].main.humidity,l.textContent=t.list[8].main.temp.toFixed(0),y.textContent=t.list[16].main.temp.toFixed(0),h.textContent=t.list[24].main.temp.toFixed(0)}(n,t),function(e){a.src=`http://openweathermap.org/img/wn/${e.list[0].weather[0].icon}@4x.png`,r.src=`http://openweathermap.org/img/wn/${e.list[9].weather[0].icon}@2x.png`,g.src=`http://openweathermap.org/img/wn/${e.list[17].weather[0].icon}@2x.png`,f.src=`http://openweathermap.org/img/wn/${e.list[25].weather[0].icon}@2x.png`}(n),function(e){const{lat:t}=e.city.coord;B(t,e.city.coord.lon)}(n)}))}function $(e){C(e,v.value),v.onchange=()=>{C(e,v.value)}}function F(){var e;e=n.textContent.split(":")[0]>17?"night":"morning",fetch(`https://api.unsplash.com/photos/random?query=${e}&client_id=9NLuf3a7wuVVxqyAYgl-7b6mMgPGlOi5jvFetI5yUt4`).then((e=>e.json())).then((e=>{document.body.style.backgroundImage=`url(${e.urls.regular})`}))}navigator.geolocation&&navigator.geolocation.getCurrentPosition((e=>{const t=e.coords.longitude,n=e.coords.latitude;B(n,t),function(e,t){mapboxgl.accessToken="pk.eyJ1IjoibWFyaWFtbWFudmVsaWR6ZSIsImEiOiJja2lkMWV3djQwNTRvMnVyd3NibGl1bWhoIn0.6J6Vnfk6deSuWUapxzAfSQ",new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:[t,e],zoom:8})}(n,t),function(e,t){const n=`https://api.opencagedata.com/geocode/v1/json?key=e4f7ce76ece34f5fa88d15a1e67d9f9f&q=${encodeURIComponent(`${e},${t}`)}&pretty=1&no_annotations=1`;fetch(n).then((e=>e.json())).then((e=>{$(e.results[0].components.city)}))}(n,t)})),I.addEventListener("click",(()=>{0===x.value.length||null!==x.value.match(/^ *$/)?(x.classList.add("invalid"),x.placeholder="Empty Field"):(function(e){mapboxgl.accessToken="pk.eyJ1IjoibWFyaWFtbWFudmVsaWR6ZSIsImEiOiJja2lkMWV3djQwNTRvMnVyd3NibGl1bWhoIn0.6J6Vnfk6deSuWUapxzAfSQ",mapboxSdk({accessToken:mapboxgl.accessToken}).geocoding.forwardGeocode({query:`${e}`,autocomplete:!1,limit:1}).send().then((e=>{if(e&&e.body&&e.body.features&&e.body.features.length){const t=e.body.features[0];new mapboxgl.Map({container:"map",style:"mapbox://styles/mapbox/streets-v11",center:t.center,zoom:8})}}))}(x.value),$(x.value),x.classList.remove("invalid"))})),setInterval((function(){const e=new Date,o=["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday","Sunday","Monday","Tuesday"],a=["Sun","Mon","Tue","Wed","Thur","Fri","Sat"][e.getDay()],d=o[e.getDay()+1],c=o[e.getDay()+2],i=o[e.getDay()+3],m=["January","February","March","April","May","June","July","August","September","October","November","December"][e.getMonth()];t.textContent=`${a} ${e.getDate()} ${m}`,n.textContent=`${e.getHours()}:${e.getMinutes()}`,s.textContent=d,u.textContent=c,p.textContent=i}),1e3),w.addEventListener("click",(()=>{F()})),window.addEventListener("load",(()=>{F()})),window.addEventListener("load",(()=>{setTimeout((()=>{document.querySelector(".loader").className+=" hidden"}),3e3)}));const k=document.getElementsByClassName("lds-ellipsis")[0];for(let e=0;e<4;e+=1){const e=document.createElement("div");k.appendChild(e)}for(let e=0;e<4;e+=1){const e=document.createElement("span");I.appendChild(e)}})();